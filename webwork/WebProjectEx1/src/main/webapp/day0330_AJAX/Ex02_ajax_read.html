<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Single+Day&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
<style type="text/css">
body, body * {
		font-family: 'Jua';
	}
</style>
</head>
<body>
	<button type="button" class="btn btn-success" id="btn1">xml 배열데이터 읽기</button>
	<button type="button" class="btn btn-success" id="btn2">json 배열데이터 읽기</button>
	<button type="button" class="btn btn-success" id="btn3">test.xml 배열데이터 읽기</button>
	<button type="button" class="btn btn-success" id="btn4">test.json 배열데이터 읽기</button>
	<br><br>
	<div class="view" style="font-size:20px">
	</div>
	
<script type="text/javascript">
	$("#btn1").click(function() {
		$.ajax(
			{
				type:"get",
				url:"../data/Ex03_arrdata.xml",
				dataType:"xml",
				success:function(res){
					let s="";
					
					$(res).find("stu").each(function(idx, ele) {
						s += "이름:" + $(ele).attr("name")+"<br>";
						s += "자바점수:" + $(ele).find("java").text()+"<br>";
						s += "스프링점수:" + $(ele).find("spring").text()+"<br>";
						s += "html점수:" + $(ele).find("html").text()+"<br>";
						s += "<hr>";
					});
					
					$(".view").html(s);
				},	
				statusCode:{
					404:function(){
						alert("파일이 없어요");
					},
					500:function(){
						alaert("서버오류");
					}
				}
			});
	});
	
	$("#btn2").click(function() {
		$.ajax(
				{
					type:"get",
					url:"../data/Ex04_arrdata.json",
					dataType:"json",
					success:function(res){
						let s="";
						$.each(res,function(idx, ele){
							s += "이름 : " + ele.name + "<br>";
							s += "취미 : " + ele.hobby + "<br>";
							s += "전화번호 : " + ele.hp + "<br>";
							s += "<hr>";
						});
						$(".view").html(s);
					},
					statusCode:{
						404:function(){
							alert("파일이 없어요");
						},
						500:function(){
							alaert("서버오류");
						}
					}
				});
		
		
	});
	
	$("#btn3").click(function() {
		$.ajax(
				{
					type:"get",
					url:"../data/testdata.xml",
					dataType:"xml",
					success:function(res){
						let s = "";
						$(res).find("sawon").each(function(idx, ele){
							s += "사원번호 : " + $(ele).attr("no")+"<br>";
							s += "부서 : " + $(ele).find("buseo").text()+"<br>";
							s += "수당 : " + $(ele).find("pay").text()+"<br>";
							s += "급여 : " + $(ele).find("pay").attr("sudang")+"<br>";
							s += "<hr>";
						});	
						$(".view").html(s);
					},	
					statusCode:{
						404:function(){
							alert("파일이 없어요");
						},
						500:function(){
							alaert("서버오류");
						}
					}
				});
	});
	
	$("#btn4").click(function() {
		$.ajax(
				{
					type:"get",
					url:"../data/testdata.json",
					dataType:"json",
					success:function(res){
						let s="총" + res.length + "명<br>";
						$.each(res,function(idx, ele){
							s += "이름 : " + ele.name + "<br>";
							s += "주소 : " + ele.addr + "<br>";
							s += "취미 : "
								if(ele.hobby == null ){
									s += "취미가 없어요"	+ "<br>";
								}else{
									$.each(ele.hobby, function(i,e) {
										s += "[" + e + "]";
									});
									s += "<br>"
									s += "취미 : " + ele.hobby + "<br>";
								}
							s += "전화번호 : " + ele.hp + "<br>";
							s += "<hr>";
						});
						$(".view").html(s);
					},	
					statusCode:{
						404:function(){
							alert("파일이 없어요");
						},
						500:function(){
							alaert("서버오류");
						}
					}
				});
	});
</script>
	
</body>
</html>