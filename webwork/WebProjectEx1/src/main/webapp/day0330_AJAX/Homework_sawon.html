<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Single+Day&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
<style type="text/css">
body, body * {
		font-family: 'Jua';
	}
#sum{
	margin-left: 10px;
	font-size: 30px;
	
}
.input-group{
	margin-left: 10px;
}
</style>
<script type="text/javascript">
	$(function() {
		list1();
		$(".input-group").click(function() {
		var radioVal = $('input[name="gender"]:checked').val();
		if(radioVal == 2){
			list2();
		}else if(radioVal == 3){
			list3();
		}else{			
			list1();					
		}			
		});
	});
	
	function list1() {
		$.ajax(
				{
					type:"get",
					url:"../data/sawontojson.jsp",
					dataType:"json",
					success:function(res){
						let s="";
						let i = 0;
						s+="<table class='table table-bordered' id='sawontable'>";
						s += "<tr bgcolor='#ccc'><th>이름</th><th>점수</th><th>성별</th><th>부서</th></tr>"
						$.each(res,function(idx,ele){
							i += 1;
							s += "<tr>";
							s += "<td>"+ ele.name;
							s += "<td>" + ele.score;
							s += "<td>" + ele.gender;
							s += "<td>" + ele.buseo;
							s += "</tr>";
						});
						s += "</table>";
						$("#sum").html(" 총 " + i + "명");
						$(".sawondata").html(s);
					},	
					statusCode:{
						404:function(){
							alert("파일이 없어요");
						},
						500:function(){
							alaert("서버오류");
						}
					}
				});
	}
	function list2() {
		$.ajax(
				{
					type:"get",
					url:"../data/sawontojson.jsp",
					dataType:"json",
					success:function(res){
						let s="";
						let i = 0;
						s+="<table class='table table-bordered' id='sawontable'>";
						s += "<tr bgcolor='#ccc'><th>이름</th><th>점수</th><th>성별</th><th>부서</th></tr>"
						$.each(res,function(idx,ele){
							if(ele.gender == "남자"){
							i += 1;
							s += "<tr>";
							s += "<td>"+ ele.name;
							s += "<td>" + ele.score;
							s += "<td>" + ele.gender;
							s += "<td>" + ele.buseo;
							s += "</tr>";
							}
						});
						s += "</table>";
						$("#sum").html(" 총 " + i + "명");
						$(".sawondata").html(s);
					},	
					statusCode:{
						404:function(){
							alert("파일이 없어요");
						},
						500:function(){
							alaert("서버오류");
						}
					}
				});
	}
	function list3() {
		$.ajax(
				{
					type:"get",
					url:"../data/sawontojson.jsp",
					dataType:"json",
					success:function(res){
						let s="";
						let i = 0;
						s+="<table class='table table-bordered' id='sawontable'>";
						s += "<tr bgcolor='#ccc'><th>이름</th><th>점수</th><th>성별</th><th>부서</th></tr>"
						$.each(res,function(idx,ele){
							if(ele.gender == "여자"){
							i += 1;
							s += "<tr>";
							s += "<td>"+ ele.name;
							s += "<td>" + ele.score;
							s += "<td>" + ele.gender;
							s += "<td>" + ele.buseo;
							s += "</tr>";
							}
						});
						s += "</table>";
						$("#sum").html(" 총 " + i + "명");
						$(".sawondata").html(s);
					},	
					statusCode:{
						404:function(){
							alert("파일이 없어요");
						},
						500:function(){
							alaert("서버오류");
						}
					}
				});
	}
</script>
</head>
<body>
	<h4 class="alert alert-danger">사원 정보</h4>
	<div class="input-group" style="width:350px;">
	<label> 
		<input type="radio" name='gender' value='1' checked="checked">전체 &nbsp;
	</label>
	<label>
		<input type="radio" name='gender' value='2'>남자 &nbsp;
	</label>
	<label>
		<input type="radio" name='gender' value='3'>여자 &nbsp;
	</label>
	</div>
	<br>
	<div id="sum">총 명수가 나올곳</div>
	<div class="sawondata">표가 나올곳</div>
</body>
</html>